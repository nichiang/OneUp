<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title></title>

    <!-- compiled css output -->
    <link href="css/ionic.app.css" rel="stylesheet">

    <!-- css style overrides -->
    <link href="css/style.css" rel="stylesheet">
    
    <!-- ionic/angularjs js -->
    <script src="lib/ionic/js/ionic.bundle.js"></script>

    <!-- cordova script (this will be a 404 during development) -->
    <script src="js/ng-cordova.js"></script>
    <script src="cordova.js"></script>

    <!-- your app's js -->
    <script src="js/app.js"></script>
    <script src="js/goal.js"></script>
    <script src="js/add-goal.js"></script>
    <script src="js/settings.js"></script>
  </head>
  <body class="stable-bg" ng-app="OneUp" class="platform-android" ng-controller="ListCtrl">
    <div id="appHeader" style="width: 100%; height: 100%; background-image: url('img/header-bg.jpg'); background-size: 100%; background-position: center bottom; position: absolute; top: calc(-80% + 150px);">
    </div>

    <button class="button button-clear button-light headerElements" ng-controller="SettingsCtrl" on-tap="openSettingsModal()" style="position: absolute; right: 0px; top: 0px; z-index: 10;">
      <i class="icon ion-gear-a"></i>
    </button>

    <ion-content has-bouncing="true" on-scroll="scrollHeader();" style="background-color: transparent;">
      <ion-list>

        <ion-item style="background-color: transparent; border-width: 0; height: 150px;">
        </ion-item>

        <ion-item ng-repeat="goal in goals track by goal.goalId" ng-controller="GoalCtrl">
          <div class="row" ng-init="progress = getProgress(goal)">
            <div class="col col-center" on-tap="openGoalModal(goal)">
              <h2>{{goal.title}}</h2>
              <div class="row" style="height: 40px; max-width: calc(100% - {{iconWidths[goal.icon]}}px); position: relative;">
                <div class="col col-center" style="flex: 0 0 {{progress}}%; max-width: {{progress}}%;">
                  <div ng-class="goal.theme + '-bg'" style="width: 100%; height: 4px; content: ' ';"></div>
                </div>
                <div class="col" ng-class="goal.theme" style="font-size: 40px; margin: 0 2px; flex: 0 0 {{iconWidths[goal.icon]}}px; max-width: {{iconWidths[goal.icon]}}px;">
                  <i class="{{goal.icon}}"></i>
                </div>
                <div class="col col-center" style="flex: 0 0 calc(100% - {{progress}}%); max-width: calc(100% - {{progress}}%);">
                  <div style="width: 100%; height: 4px; background-color: silver; content: ' ';"></div>
                </div>
              </div>
            </div>
            <div class="col col-33 col-center" style="text-align: right;">
              <button ng-class="checkTodayClass(goal)" on-tap="checkTodayToggle(goal)">
                <span ng-hide="goal.checkedToday">Day {{goal|progressDay}}</span>
                <i class="icon ion-checkmark" ng-show="goal.checkedToday"></i>
              </button>
            </div>
          </div>
        </ion-item>

        <ion-item>
          <div style="text-align: center;" ng-controller="AddGoalCtrl" on-tap="openAddModal()">
            <button class="button button-large button-clear button-positive" on-tap="openAddModal()">
              <i class="icon ion-plus"></i>
            </button>
          </div>
        </ion-item>

      </ion-list>
    </ion-content>
  </body>
</html>
